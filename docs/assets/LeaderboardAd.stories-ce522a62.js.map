{"version":3,"file":"LeaderboardAd.stories-ce522a62.js","sources":["../../src/components/AdSlot/stories/docs/leaderboard.md?raw","../../src/components/AdSlot/LeaderboardAd.svelte","../../src/components/AdSlot/LeaderboardAd.stories.svelte"],"sourcesContent":["export default \"Add a leaderboard ad to your page.\\n\\n> **IMPORTANT!** Make sure ads are only used on dotcom pages, never on embeds.\\n\\n```svelte\\n<!-- +page.svelte -->\\n<script>\\n  import {\\n    AdScripts,\\n    LeaderboardAd,\\n    SiteHeader,\\n  } from '@reuters-graphics/graphics-components';\\n</script>\\n\\n<!-- Include AdScripts only ONCE per page for any type of ad -->\\n<AdScripts />\\n\\n<!-- ALWAYS put the leaderboard ad directly above the SiteHeader -->\\n<LeaderboardAd />\\n<SiteHeader />\\n```\\n\"","<script lang=\"ts\">\n  import { DesktopPlacementName } from './@types/ads';\n  import ResponsiveAd from './ResponsiveAd.svelte';\n  import { onMount } from 'svelte';\n\n  /** Add an ID to target with SCSS. */\n  export let id: string = '';\n\n  /** Add a class to target with SCSS. */\n  export let cls: string = '';\n  export { cls as class };\n\n  let windowWidth = 1200;\n  $: adSize = windowWidth < 1024 ? 110 : 275;\n\n  const desktopPlacementName: DesktopPlacementName =\n    'reuters_desktop_leaderboard_atf';\n\n  let sticky = false;\n  // Handles transition out... somewhat dumb, but here we are...\n  let unstick = false;\n\n  onMount(() => {\n    const handleScroll = () => {\n      const scrollTop = window.scrollY;\n      if (scrollTop >= adSize * 1.1) {\n        sticky = true;\n        setTimeout(() => {\n          unstick = true;\n          setTimeout(() => {\n            sticky = false;\n          }, 400);\n        }, 1500);\n        window.removeEventListener('scroll', handleScroll);\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll);\n\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  });\n</script>\n\n<svelte:window bind:innerWidth=\"{windowWidth}\" />\n\n<!-- @component `LeaderboardAd` [Read the docs.](https://reuters-graphics.github.io/graphics-components/?path=/docs/components-LeaderboardAd--default) -->\n<div\n  class=\"leaderboard__sticky {cls}\"\n  class:sticky=\"{sticky}\"\n  class:unstick=\"{unstick}\"\n  id=\"{id}\"\n  style=\"--height: {adSize}px;\"\n>\n  <div class=\"ad-block\">\n    <div class=\"ad-slot__container\">\n      <div class=\"ad-slot__inner\">\n        <div>\n          <ResponsiveAd desktopPlacementName=\"{desktopPlacementName}\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<style lang=\"scss\">\n  .leaderboard__sticky {\n    position: initial;\n    top: -275px;\n    transition: top 0.4s ease-in-out;\n    z-index: 1030;\n    &.sticky {\n      position: sticky;\n      top: 0px;\n    }\n    &.unstick {\n      top: -275px;\n    }\n  }\n  div.ad-block {\n    width: 100%;\n    background: #f4f4f4;\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    align-items: center;\n    height: var(--height);\n    .ad-slot__container {\n      height: 0px;\n      min-height: var(--height);\n      align-items: center;\n      display: flex;\n      justify-content: center;\n      .ad-slot__inner {\n        max-width: 100%;\n      }\n    }\n  }\n</style>\n","<script>\n  import { Meta, Template, Story } from '@storybook/addon-svelte-csf';\n\n  // @ts-ignore\n  import adDocs from './stories/docs/leaderboard.md?raw';\n\n  import AdScripts from './AdScripts.svelte';\n  import LeaderboardAd from './LeaderboardAd.svelte';\n\n  import { withComponentDocs } from '$docs/utils/withParams.js';\n\n  const meta = {\n    title: 'Components/LeaderboardAd',\n    component: LeaderboardAd,\n    ...withComponentDocs(adDocs),\n  };\n</script>\n\n<Meta title=\"Components/LeaderboardAd\" {...meta} />\n\n<Template let:args>\n  <div>\n    <AdScripts />\n    <LeaderboardAd />\n  </div>\n</Template>\n\n<Story name=\"Default\" />\n\n<style>\n  div {\n    min-height: 200vh;\n    background-size: 40px 40px;\n    background-image: linear-gradient(to right, lightgrey 1px, transparent 1px),\n      linear-gradient(to bottom, lightgrey 1px, transparent 1px);\n  }\n</style>\n"],"names":["adDocs","desktopPlacementName","ctx","insert","target","div4","anchor","append","div3","div2","div1","div0","id","$$props","cls","windowWidth","sticky","unstick","onMount","handleScroll","adSize","$$invalidate","div","LeaderboardAd","withComponentDocs"],"mappings":"+iBAAA,MAAeA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;yFC2DgC,qBAAAC,CAAoB,CAAA,CAAA,sPAVrCC,EAAG,CAAA,EAAA,gBAAA,WAG1BA,EAAE,CAAA,CAAA,iBACWA,EAAM,CAAA,EAAA,IAAA,eAHTA,EAAM,CAAA,CAAA,gBACLA,EAAO,CAAA,CAAA,UAHzBC,EAgBKC,EAAAC,EAAAC,CAAA,EATHC,EAQKF,EAAAG,CAAA,EAPHD,EAMKC,EAAAC,CAAA,EALHF,EAIKE,EAAAC,CAAA,EAHHH,EAEKG,EAAAC,CAAA,oGAXiBT,EAAG,CAAA,EAAA,uDAG1BA,EAAE,CAAA,CAAA,6BACWA,EAAM,CAAA,EAAA,IAAA,2BAHTA,EAAM,CAAA,CAAA,4BACLA,EAAO,CAAA,CAAA,iGApCjB,MAAAD,EACJ,0DAVS,CAAA,GAAAW,EAAa,EAAE,EAAAC,EAGf,CAAA,MAAAC,EAAc,EAAE,EAAAD,EAGvBE,EAAc,KAMdC,EAAS,GAETC,EAAU,GAEdC,EAAO,IAAA,OACCC,EAAY,IAAA,CACE,OAAO,SACRC,EAAS,MACxBC,EAAA,EAAAL,EAAS,EAAI,EACb,gBACEK,EAAA,EAAAJ,EAAU,EAAI,EACd,gBACEI,EAAA,EAAAL,EAAS,EAAK,GACb,MACF,MACH,OAAO,oBAAoB,SAAUG,CAAY,IAIrD,cAAO,iBAAiB,SAAUA,CAAY,OAG5C,OAAO,oBAAoB,SAAUA,CAAY,2IA3BpDE,EAAA,EAAED,EAASL,EAAc,KAAO,IAAM,GAAG,i9BCQ1CZ,EAGKC,EAAAkB,EAAAhB,CAAA,qPANoCJ,EAAI,CAAA,CAAA,8WAAJA,EAAI,CAAA,CAAA,CAAA,CAAA,oRAPnC,CACR,MAAO,2BACP,UAAWqB,EACR,GAAAC,EAAkBxB,CAAM;;;"}