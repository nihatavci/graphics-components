import{S as T,i as A,s as b,p as E,q as m,o as j,c as B,f as i,j as f,h as S,m as x,n as v,t as w,a as k,k as c,d as C,Q as D,D as L,O as F,r as Q,u as U}from"./index-C9aKRT5A.js";import{t as Y}from"./throttle-cOUaFLOV.js";const P=(o,e=window.location.href)=>{o=o.replace(/[\[\]]/g,"\\$&");const t=new RegExp("[?&]"+o+"(=([^&#]*)|&|#|$)").exec(e);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null},G=600,V=()=>new Promise(o=>{const e=setTimeout(()=>{o("Resolved with timeout")},G),s=()=>{clearTimeout(e),window.__iasPET=window.__iasPET||{},window.__iasPET.queue=window.__iasPET.queue||[],window.__iasPET.pubId="931336",o("loaded")},t=document.createElement("script");t.src="//static.adsafeprotected.com/iasPET.1.js",t.setAttribute("async","async"),document.head.appendChild(t),t.onload=s,t.onerror=()=>{o("error")}}),W="ot_logs",H="ot_geolocation_mock",K="38cb75bd-fbe1-4ac8-b4af-e531ab368caf-test",J=()=>{window.freestar=window.freestar||{};const o=window.freestar;o.debug=!0,o.queue=o.queue||[],o.config=o.config||{},o.config.enabled_slots=[],o.initCallback=function(){o.config.enabled_slots.length===0?o.initCallbackCalled=!1:o.newAdSlots(o.config.enabled_slots)},o.config.channel="/4735792/reuters.com/graphics",window.initBootstrap({onetrust_logs:P(W)||"false",geolocation_mock:P(H)||"default",onetrust_script_id:K},e=>{const s=V();return Promise.all([s]).then(t=>{const[r]=t;return{...e,ias:r}})}),window.bootstrap.getResults(()=>{window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push(()=>{window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().enableAsyncRendering(),window.googletag.pubads().collapseEmptyDivs(!0),window.googletag.pubads().addEventListener("slotRenderEnded",function(e){const s=document.getElementById(e.slot.getSlotElementId());s&&(e.isEmpty?s.classList.add("unfulfilled-ad"):s.classList.remove("unfulfilled-ad"))})}),o.queue.push(function(){const e=new URL(document.location.href).searchParams.get("adstest");e&&window.googletag.pubads().setTargeting("adstest",e);const s=window.location.pathname.split("/").filter(t=>t.match(/[a-z0-9]+/)&&t!=="graphics")[0]||"unknown-graphic";window.googletag.pubads().setTargeting("template","graphics"),window.googletag.pubads().setTargeting("graphicId",s)}),Array.isArray(window.graphicsAdQueue)||console.error("Ad queue not initialized!"),o.queue.push(function(){o.newAdSlots(window.graphicsAdQueue||[],o.config.channel)})})},I=(o,e)=>{const{onload:s,async:t=!0}=e||{};if(document.querySelector(`script[src="${o}"]`))return;const n=document.createElement("script");s&&n.addEventListener("load",s),n.async=t,n.src=o,document.head.append(n)};function X(o){let e=0,s=!0;const t=(n=!0)=>{const a=document.getElementById("ot-sdk-btn-floating");a&&(n?(s=!0,a.style.bottom=""):(s=!1,a.style.bottom="-5rem"))},r=()=>{e>window.scrollY?s||t(!0):s&&window.scrollY>250&&t(!1),e=window.scrollY};return E(()=>{if(typeof window>"u")return;const n=Y(r,250);return window.addEventListener("scroll",n,{passive:!0}),()=>{window.removeEventListener("scroll",n)}}),[]}class M extends T{constructor(e){super(),A(this,e,X,null,b,{})}}M.__docgen={version:3,name:"OneTrust.svelte",data:[],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};function Z(o){let e,s,t,r,n,a,l,d,u,g,p,h,y;return h=new M({}),{c(){e=m("link"),s=m("link"),t=m("link"),r=m("link"),n=m("link"),a=m("link"),l=m("link"),d=m("link"),u=m("link"),g=m("link"),p=j(),B(h.$$.fragment),i(e,"rel","preconnect"),i(e,"href","https://a.pub.network/"),i(e,"crossorigin",""),i(s,"rel","preconnect"),i(s,"href","https://b.pub.network/"),i(s,"crossorigin",""),i(t,"rel","preconnect"),i(t,"href","https://c.pub.network/"),i(t,"crossorigin",""),i(r,"rel","preconnect"),i(r,"href","https://d.pub.network/"),i(r,"crossorigin",""),i(n,"rel","preconnect"),i(n,"href","https://c.amazon-adsystem.com"),i(n,"crossorigin",""),i(a,"rel","preconnect"),i(a,"href","https://s.amazon-adsystem.com"),i(a,"crossorigin",""),i(l,"rel","preconnect"),i(l,"href","https://btloader.com/"),i(l,"crossorigin",""),i(d,"rel","preconnect"),i(d,"href","https://api.btloader.com/"),i(d,"crossorigin",""),i(u,"rel","preconnect"),i(u,"href","https://confiant-integrations.global.ssl.fastly.net"),i(u,"crossorigin",""),i(g,"rel","stylesheet"),i(g,"href","https://a.pub.network/reuters-com/cls.css")},m(_,N){f(document.head,e),f(document.head,s),f(document.head,t),f(document.head,r),f(document.head,n),f(document.head,a),f(document.head,l),f(document.head,d),f(document.head,u),f(document.head,g),S(_,p,N),x(h,_,N),y=!0},p:v,i(_){y||(w(h.$$.fragment,_),y=!0)},o(_){k(h.$$.fragment,_),y=!1},d(_){_&&c(p),c(e),c(s),c(t),c(r),c(n),c(a),c(l),c(d),c(u),c(g),C(h,_)}}}function $(o){return E(()=>{window.graphicsAdQueue=window.graphicsAdQueue||[],I("https://graphics.thomsonreuters.com/cdn/js/bootstrap.static.js",{onload:J,async:!1}),I("https://a.pub.network/reuters-com/pubfig.min.js")}),[]}class ee extends T{constructor(e){super(),A(this,e,$,Z,b,{})}}ee.__docgen={version:3,name:"AdScripts.svelte",data:[],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};const R=()=>Math.floor((1+Math.random())*65536).toString(16).substring(1),te=()=>"ad-"+R()+R();function ne(o){let e,s;return{c(){e=m("div"),i(e,"data-freestar-ad",s=o[0]||null),i(e,"id",o[1])},m(t,r){S(t,e,r)},p(t,[r]){r&1&&s!==(s=t[0]||null)&&i(e,"data-freestar-ad",s)},i:v,o:v,d(t){t&&c(e)}}}function se(o,e,s){let{placementName:t}=e,{adType:r}=e,{dataFreestarAd:n="__970x250"}=e;const a=te();return E(()=>{const l={placementName:t,slotId:a,targeting:{div_id:t,type:r}},d=window==null?void 0:window.freestar;return d?d.queue.push(function(){d.newAdSlots([l],d.config.channel)}):(window.graphicsAdQueue=window.graphicsAdQueue||[],window.graphicsAdQueue.push(l)),()=>{const u=window==null?void 0:window.freestar;u&&u.queue.push(function(){u.deleteAdSlots(a)})}}),o.$$set=l=>{"placementName"in l&&s(2,t=l.placementName),"adType"in l&&s(3,r=l.adType),"dataFreestarAd"in l&&s(0,n=l.dataFreestarAd)},[n,a,t,r]}class z extends T{constructor(e){super(),A(this,e,se,ne,b,{placementName:2,adType:3,dataFreestarAd:0})}}z.__docgen={version:3,name:"AdSlot.svelte",data:[{visibility:"public",description:null,keywords:[],name:"placementName",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}},{visibility:"public",description:null,keywords:[],name:"adType",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}},{keywords:[{name:"TODO",description:"Unclear at what level this bit of config is used with placements..."}],visibility:"public",description:"",name:"dataFreestarAd",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:"__970x250"}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};function O(o){let e=o[1],s,t,r=q(o);return{c(){r.c(),s=L()},m(n,a){r.m(n,a),S(n,s,a),t=!0},p(n,a){a&2&&b(e,e=n[1])?(Q(),k(r,1,1,v),U(),r=q(n),r.c(),w(r,1),r.m(s.parentNode,s)):r.p(n,a)},i(n){t||(w(r),t=!0)},o(n){k(r),t=!1},d(n){n&&c(s),r.d(n)}}}function q(o){let e,s;return e=new z({props:{placementName:o[1],adType:o[2]}}),{c(){B(e.$$.fragment)},m(t,r){x(e,t,r),s=!0},p(t,r){const n={};r&2&&(n.placementName=t[1]),r&4&&(n.adType=t[2]),e.$set(n)},i(t){s||(w(e.$$.fragment,t),s=!0)},o(t){k(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function oe(o){let e,s,t,r;D(o[5]);let n=o[0]&&O(o);return{c(){n&&n.c(),e=L()},m(a,l){n&&n.m(a,l),S(a,e,l),s=!0,t||(r=F(window,"resize",o[5]),t=!0)},p(a,[l]){a[0]?n?(n.p(a,l),l&1&&w(n,1)):(n=O(a),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(Q(),k(n,1,1,()=>{n=null}),U())},i(a){s||(w(n),s=!0)},o(a){k(n),s=!1},d(a){a&&c(e),n&&n.d(a),t=!1,r()}}}function re(o,e,s){let t,r,{desktopPlacementName:n}=e,{mobileBreakpoint:a=1024}=e,l;const d=p=>{switch(p){case"reuters_desktop_leaderboard_atf":return"reuters_mobile_leaderboard";case"reuters_sponsorlogo":return"reuters_sponsorlogo";case"reuters_desktop_native_1":return"reuters_mobile_mpu_1";case"reuters_desktop_native_2":return"reuters_mobile_mpu_2";case"reuters_desktop_native_3":return"reuters_mobile_mpu_3";default:return"reuters_mobile_mpu_1"}},u=p=>{switch(p){case"reuters_desktop_leaderboard_atf":case"reuters_mobile_leaderboard":return"leaderboard";case"reuters_sponsorlogo":return"sponsorlogo";case"reuters_mobile_mpu_1":return"mpu";case"reuters_mobile_mpu_2":return"native";case"reuters_mobile_mpu_3":return"mpu2";case"reuters_desktop_native_1":return"native";case"reuters_desktop_native_2":return"canvas";case"reuters_desktop_native_3":return"flex";default:return"native"}};function g(){s(0,l=window.innerWidth)}return o.$$set=p=>{"desktopPlacementName"in p&&s(3,n=p.desktopPlacementName),"mobileBreakpoint"in p&&s(4,a=p.mobileBreakpoint)},o.$$.update=()=>{o.$$.dirty&25&&s(1,t=l&&l<a?d(n):n),o.$$.dirty&2&&s(2,r=u(t))},[l,t,r,n,a,g]}class ae extends T{constructor(e){super(),A(this,e,re,oe,b,{desktopPlacementName:3,mobileBreakpoint:4})}}ae.__docgen={version:3,name:"ResponsiveAd.svelte",data:[{visibility:"public",description:null,keywords:[],name:"desktopPlacementName",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}},{visibility:"public",description:null,keywords:[],name:"mobileBreakpoint",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"number",type:"number"},defaultValue:1024}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};export{ee as A,ae as R};
